<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bucket Art – Venkatesh Rao</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    /* Basic page layout: similar minimalist feel to venkateshrao.com */
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        "Helvetica Neue", Arial, sans-serif;
      line-height: 1.6;
      color: #111;
      background-color: #ffffff;
    }

    .page {
      max-width: 960px;
      margin: 2rem auto 4rem auto;
      padding: 0 1rem;
    }

    header h1 {
      font-size: 2rem;
      margin: 0 0 0.5rem 0;
    }

    header p.lead {
      margin: 0 0 1.5rem 0;
      font-size: 1rem;
      color: #444;
    }

    /* Collapsible intro */
    .intro {
      position: relative;
      margin-bottom: 1.5rem;
    }

    .intro.collapsed {
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 3; /* show ~2–3 lines depending on viewport */
      overflow: hidden;
    }

    .intro-toggle {
      display: inline-block;
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
      color: #0066cc;
      cursor: pointer;
      border: none;
      background: none;
      padding: 0;
      text-decoration: underline;
    }

    .intro-toggle:focus {
      outline: 1px solid #0066cc;
      outline-offset: 2px;
    }

    /* Gallery grid */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
    }

    .gallery-item {
      cursor: pointer;
      border: 1px solid #ddd;
      padding: 0.5rem;
      border-radius: 4px;
      background-color: #fafafa;
      transition: box-shadow 0.15s ease, transform 0.15s ease;
    }

    .gallery-item:hover {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.10);
      transform: translateY(-1px);
    }

    .thumb-wrapper {
      position: relative;
      width: 100%;
      padding-top: 66%; /* 3:2 placeholder aspect ratio */
      overflow: hidden;
      background-color: #eee;
    }

    .thumb-wrapper img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover; /* crops while preserving aspect ratio */
      display: block;
    }

    .gallery-item figcaption {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #222;
    }

    /* Lightbox modal */
    .lightbox {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.75);
      display: none; /* toggled via JS */
      align-items: center;
      justify-content: center;
      z-index: 9999;
      padding: 1.5rem;
    }

    .lightbox.is-open {
      display: flex;
    }

    .lightbox-inner {
      max-width: 96vw;
      max-height: 96vh;
      background: #111;
      color: #f5f5f5;
      padding: 0.75rem 0.75rem 0.9rem 0.75rem;
      border-radius: 4px;
      box-sizing: border-box;
      position: relative;
    }

    .lightbox-image-wrapper {
      max-height: 80vh;
      text-align: center;
    }

    .lightbox-image-wrapper img {
      max-width: 100%;
      max-height: 80vh;
      height: auto;
      width: auto;
      display: block;
      margin: 0 auto;
    }

    .lightbox-title {
      margin-top: 0.5rem;
      font-size: 0.95rem;
      text-align: left;
      color: #f5f5f5;
    }

    .lightbox-close {
      position: absolute;
      top: 0.25rem;
      right: 0.35rem;
      border: none;
      background: transparent;
      color: #ccc;
      font-size: 1.4rem;
      line-height: 1;
      cursor: pointer;
      padding: 0.1rem 0.3rem;
    }

    .lightbox-close:hover {
      color: #ffffff;
    }

    /* Carousel nav buttons */
    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      border: none;
      background: rgba(0, 0, 0, 0.4);
      color: #f5f5f5;
      font-size: 1.8rem;
      line-height: 1;
      cursor: pointer;
      padding: 0.4rem 0.6rem;
      border-radius: 3px;
      user-select: none;
    }

    .lightbox-prev {
      left: 0.25rem;
    }

    .lightbox-next {
      right: 0.25rem;
    }

    .lightbox-nav:hover {
      background: rgba(0, 0, 0, 0.7);
    }

    /* Small-screen tweaks */
    @media (max-width: 600px) {
      header h1 {
        font-size: 1.6rem;
      }

      .gallery-item {
        padding: 0.4rem;
      }

      .lightbox-inner {
        padding: 0.6rem 0.6rem 0.8rem 0.6rem;
      }

      .lightbox-nav {
        font-size: 1.4rem;
        padding: 0.3rem 0.45rem;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>Bucket Art</h1>
      <p class="lead"><a href="https://venkateshrao.com">Main Site</a> | <a href="https://titles.xyz/model/Y9EP0HA0BXRvuNbm23ir">Trained Model</a> | <a href="HowToMakeBucketArt.html">How to make Bucket Art</a></p>
      <hr>
      <!-- Collapsible intro -->
      <div class="intro collapsed" id="intro">
        <p class="lead">
          A digital art project comprising a set of handmade digital paintings and an image generation model trained on them. You can try out the trained model to make your own Bucket Art, as well as mash it up with models by other artists, on <a href="https://titles.xyz/model/Y9EP0HA0BXRvuNbm23ir">titles.xyz</a>. You'll need an Ethereum wallet to play around, but don't need to pay unless you want to publish or mint something.
        </p>
        <p class="lead">
          The technique for handcrafted Bucket Art starts with laying down an interesting base layer using grids, textured brushes, patterns of random strokes, and trying to spot interesting image possibilities. I then add some more appropriate scaffolding and then use the fill tool to tease out the possibilities. The trick is to lay down a base layer that interacts well with the fill algorithm (playing with the fill tolerance is critical here). You can learn more on the <a href="HowToMakeBucketArt.html">How to make Bucket Art</a> page. The 41 handcrafted images you see here were then used to train the image model, which you can use to generate images in this style. The model works pretty well so long as you stay relatively close to the images in the training set below. This set is also published as <a href="">an NFT collection on highlight.xyz</a>. It's my first foray into "second wave" NFTs which are closer to cheap laptop stickers than fine art. If there are any left, you can snag one for 1 USDC. I had to publish as an NFT collection because the AI models on Titles rely on crypto rails not just to route payments to artists, but to track the provenance of generated images back to the artists whose models were used. It's a very interesting blend of AI and blockchain tech.
        </p>
        <p class="lead">
          Some motifs -- ships, waterfalls, skylines -- proved easy to generate in reliably repeatable ways. One impulse behind this project was to explore an approach to <em>protocol art</em>, via a tension between human seeing/pareidolia and algorithmic "painting kernels" (like the fill tool, grid tool, and texture tool). Another goal was to try and "see like an image generator" using low-level kernels of the sort used by AI image generators, such as diffusion and stochastic field primitives. I plan to use these images to train an image generator and see if it picks up on the underlying protocol.
        </p>
        <p class="lead">
          A more high-concept name for this style might be <em>Generative Impressionism</em>, where the goal is to recognize familiar things emerging in a stochastic ontogenic process governed by the strange rules of a latent space.
        </p>
      </div>
      <button id="intro-toggle" class="intro-toggle" type="button">More…</button>
    </header>

    <main>
      <section class="gallery">
        <div class="gallery-grid" id="gallery-grid">
          <!-- Gallery items will be injected here from images.json -->
        </div>
      </section>
    </main>
  </div>

  <!-- Lightbox modal -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-inner" role="dialog" aria-modal="true" aria-labelledby="lightbox-title">
      <button class="lightbox-close" type="button" aria-label="Close">&times;</button>

      <button class="lightbox-nav lightbox-prev" type="button" aria-label="Previous image">&#10094;</button>
      <button class="lightbox-nav lightbox-next" type="button" aria-label="Next image">&#10095;</button>

      <div class="lightbox-image-wrapper">
        <img id="lightbox-image" src="" alt="">
      </div>
      <div class="lightbox-title" id="lightbox-title"></div>
    </div>
  </div>

  <script>
    (function () {
      var galleryData = [];
      var currentIndex = -1;

      var lightbox = document.getElementById('lightbox');
      var lightboxImage = document.getElementById('lightbox-image');
      var lightboxTitle = document.getElementById('lightbox-title');
      var closeButton = lightbox.querySelector('.lightbox-close');
      var prevButton = lightbox.querySelector('.lightbox-prev');
      var nextButton = lightbox.querySelector('.lightbox-next');
      var galleryGrid = document.getElementById('gallery-grid');
      var lastFocused = null;

      var intro = document.getElementById('intro');
      var introToggle = document.getElementById('intro-toggle');

      /* ---- Intro expand/collapse ---- */
      introToggle.addEventListener('click', function () {
        var collapsed = intro.classList.contains('collapsed');
        if (collapsed) {
          intro.classList.remove('collapsed');
          introToggle.textContent = 'Less…';
        } else {
          intro.classList.add('collapsed');
          introToggle.textContent = 'More…';
          intro.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });

      /* ---- Gallery rendering from images.json ---- */
      function renderGallery(data) {
        galleryGrid.innerHTML = '';

        data.forEach(function (item, index) {
          var figure = document.createElement('figure');
          figure.className = 'gallery-item';
          figure.setAttribute('data-index', index);

          var thumbWrapper = document.createElement('div');
          thumbWrapper.className = 'thumb-wrapper';

          var img = document.createElement('img');
          img.src = item.thumb;
          img.alt = item.title || '';
          img.loading = 'lazy';

          thumbWrapper.appendChild(img);

          var caption = document.createElement('figcaption');
          caption.textContent = item.title || '';

          figure.appendChild(thumbWrapper);
          figure.appendChild(caption);

          galleryGrid.appendChild(figure);
        });
      }

      /* ---- Lightbox helpers ---- */
      function showImageAt(index) {
        if (!galleryData.length) return;

        if (index < 0) {
          index = galleryData.length - 1;
        } else if (index >= galleryData.length) {
          index = 0;
        }

        currentIndex = index;

        var item = galleryData[currentIndex];
        if (!item) return;

        lightboxImage.src = item.full;
        lightboxImage.alt = item.title || '';
        lightboxTitle.textContent = item.title || '';

        lightbox.classList.add('is-open');
        lightbox.setAttribute('aria-hidden', 'false');
        closeButton.focus();
      }

      function openLightboxFromElement(el) {
        var idx = el.getAttribute('data-index');
        if (idx == null) return;
        idx = parseInt(idx, 10);
        if (isNaN(idx)) return;

        lastFocused = document.activeElement;
        showImageAt(idx);
      }

      function closeLightbox() {
        lightbox.classList.remove('is-open');
        lightbox.setAttribute('aria-hidden', 'true');

        lightboxImage.src = '';
        lightboxImage.alt = '';

        if (lastFocused && typeof lastFocused.focus === 'function') {
          lastFocused.focus();
        }
      }

      function showNext() {
        if (currentIndex === -1) return;
        showImageAt(currentIndex + 1);
      }

      function showPrev() {
        if (currentIndex === -1) return;
        showImageAt(currentIndex - 1);
      }

      /* ---- Event wiring ---- */

      // Delegate clicks on gallery items
      document.addEventListener('click', function (event) {
        var item = event.target.closest('.gallery-item');
        if (!item || !galleryGrid.contains(item)) return;
        openLightboxFromElement(item);
      });

      // Close button
      closeButton.addEventListener('click', function () {
        closeLightbox();
      });

      // Click outside inner box closes
      lightbox.addEventListener('click', function (event) {
        if (event.target === lightbox) {
          closeLightbox();
        }
      });

      // Carousel buttons
      prevButton.addEventListener('click', function () {
        showPrev();
      });

      nextButton.addEventListener('click', function () {
        showNext();
      });

      // Keyboard controls
      document.addEventListener('keydown', function (event) {
        if (!lightbox.classList.contains('is-open')) return;

        if (event.key === 'Escape') {
          closeLightbox();
        } else if (event.key === 'ArrowRight') {
          showNext();
        } else if (event.key === 'ArrowLeft') {
          showPrev();
        }
      });

      /* ---- Load images.json ---- */
      fetch('images.json')
        .then(function (response) {
          if (!response.ok) throw new Error('Failed to load images.json');
          return response.json();
        })
        .then(function (data) {
          if (!Array.isArray(data)) throw new Error('images.json must be an array');
          galleryData = data;
          renderGallery(galleryData);
        })
        .catch(function (err) {
          console.error(err);
          galleryGrid.innerHTML = '<p>Could not load gallery data.</p>';
        });
    })();
  </script>
</body>
</html>
